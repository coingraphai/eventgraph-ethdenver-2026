# =============================================================================
# PREDICTIONS DATA INGESTION - ENVIRONMENT CONFIGURATION
# =============================================================================
# Multi-source prediction market data ingestion (Polymarket, Kalshi, Limitless)
# Copy this file to .env and fill in your values

# =============================================================================
# DATABASE CONFIGURATION
# =============================================================================
POSTGRES_HOST=your-db-host.db.ondigitalocean.com
POSTGRES_PORT=25060
POSTGRES_DB=defaultdb
POSTGRES_USER=doadmin
POSTGRES_PASSWORD=your-password-here
POSTGRES_SSLMODE=require

# Connection pool settings
DB_POOL_SIZE=10
DB_POOL_MAX_OVERFLOW=20
DB_BATCH_SIZE=500

# =============================================================================
# DOME API (Polymarket + Kalshi)
# =============================================================================
# Get your API key at https://domeapi.com
DOME_API_KEY=your_dome_api_key_here
DOME_API_BASE_URL=https://api.domeapi.com/v1

# Rate limit (Developer tier: 100 QPS, use 50 for safety margin)
DOME_RATE_LIMIT_RPS=50

# =============================================================================
# LIMITLESS API
# =============================================================================
LIMITLESS_API_BASE_URL=https://api.limitless.exchange
LIMITLESS_RATE_LIMIT_RPS=5

# =============================================================================
# GENERAL API SETTINGS
# =============================================================================
API_TIMEOUT_SECONDS=30
MAX_CONCURRENCY=5
DEFAULT_PAGE_SIZE=100
MAX_PAGES_PER_ENDPOINT=0  # 0 = unlimited

# =============================================================================
# RETRY CONFIGURATION
# =============================================================================
RETRY_MAX_ATTEMPTS=5
BACKOFF_BASE_SECONDS=1.0
BACKOFF_MAX_SECONDS=60.0
BACKOFF_JITTER=0.5

# =============================================================================
# SCHEDULING CONFIGURATION
# =============================================================================
# Static (full) load - weekly
STATIC_SCHEDULE_ENABLED=true
STATIC_SCHEDULE_DAY=sun     # Day of week (mon, tue, wed, thu, fri, sat, sun)
STATIC_SCHEDULE_HOUR=2      # Hour in UTC (0-23)

# Delta (incremental) load - hourly
DELTA_SCHEDULE_ENABLED=true
DELTA_SCHEDULE_INTERVAL_HOURS=1

# Run delta on startup
RUN_DELTA_ON_STARTUP=true

# =============================================================================
# FEATURE FLAGS - Enable/Disable Sources
# =============================================================================
ENABLE_POLYMARKET=true
ENABLE_KALSHI=true
ENABLE_LIMITLESS=true
ENABLE_OPINIONTRADE=false   # Phase 2

# Enable data layers
ENABLE_BRONZE_LAYER=true
ENABLE_SILVER_LAYER=true
ENABLE_GOLD_LAYER=true

# =============================================================================
# LOGGING
# =============================================================================
LOG_LEVEL=INFO              # DEBUG, INFO, WARNING, ERROR
LOG_FORMAT=json             # json, console
STRUCTURED_LOGGING=true
DEBUG=false
